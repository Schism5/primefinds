(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,a){e.exports=a(400)},220:function(e,t,a){},222:function(e,t,a){},400:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(22),r=a.n(i),o=(a(220),a(17)),c=a(18),s=a(21),u=a(19),m=a(20),d=a(7),p=(a(222),a(78)),h=a(24),b=a.n(h),f=a(25),g=a.n(f),y=a(146),v=a.n(y),E=a(69),O=a.n(E),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFocus=function(){return function(e){0===a.state.percent&&a.setState({percent:""})}},a.handleBlur=function(){return function(e){""===a.state.percent&&a.setState({percent:0},a.setPer)}},a.handleChange=function(){return function(e){var t=e.target.value;t.length<=3&&a.setState({percent:t?parseInt(t):0},a.setPer)}},a.setPer=function(){return a.props.setPercentages(a.props.pkey,a.state.percent)},a.state={percent:e.percent},a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a.handleFocus=a.handleFocus.bind(Object(d.a)(Object(d.a)(a))),a.handleBlur=a.handleBlur.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(O.a,{style:{width:"250px",padding:"17px",marginTop:"15px"}},l.a.createElement("div",{style:{display:"inline-block",width:"30px"}},l.a.createElement(b.a,{value:this.state.percent,onChange:this.handleChange(),style:{display:"inline-block",verticalAlign:"middle",width:"30px"},inputProps:{style:{padding:"2px"}},onFocus:this.handleFocus(),onBlur:this.handleBlur()})),l.a.createElement("span",{style:{verticalAlign:"middle",marginRight:"20px"}},"%"),l.a.createElement("div",{style:{color:"#3f51b5",fontWeight:"600",display:"inline-block",verticalAlign:"middle"}},this.props.type),l.a.createElement("div",{style:{display:"inline-block",float:"right",marginTop:"3px"}},this.props.amount))}}]),t}(n.Component),j=a(28),w=a.n(j),C=a(54),x=a.n(C),S=a(53),A=a.n(S),T=a(52),D=a.n(T),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).setPercentages=function(e,t){a.setState({data:a.state.data.map(function(a){return Object.assign(a,a.name===e?{percent:t}:{})})},function(){var e=a.state.data.reduce(function(e,t){return e+t.percent},0);a.setState({errorMsg:100!==e?"Percentages add up to ".concat(e,", they should add up to 100"):""}),a.calculate(a.state.name)})},a.calculate=function(e){var t=Number(e);a.setState({data:a.state.data.map(function(e){var n=t*(e.percent/100);return Object.assign(e,{stringAmount:a.formatDollar(n),numberAmount:n})})})},a.handleChange=function(){return function(e){a.setState({name:e.target.value}),a.calculate(e.target.value)}},a.clearAmount=function(){a.setState({name:""},function(){return a.calculate(0)})},a.state={name:"",data:[],errorMsg:"",boxChecked:!1,isDownloading:!0},a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a.calculate=a.calculate.bind(Object(d.a)(Object(d.a)(a))),a.setPercentages=a.setPercentages.bind(Object(d.a)(Object(d.a)(a))),a.clearAmount=a.clearAmount.bind(Object(d.a)(Object(d.a)(a))),a.saveToHistory=a.saveToHistory.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;window.location.host.includes("localhost")?e.setState({data:[{_id:{$oid:"5bfdedebfb6fc006ff268fb2"},name:"Office",percent:25,stringAmount:"$0",numberAmount:0},{_id:{$oid:"5bfdee65fb6fc006ff268fe6"},name:"House",percent:40,stringAmount:"$0",numberAmount:0},{_id:{$oid:"5bfdee7ffb6fc006ff268ff9"},name:"Other1",percent:20,stringAmount:"$0",numberAmount:0},{_id:{$oid:"5bfdee90fb6fc006ff269001"},name:"Other2",percent:10,stringAmount:"$0",numberAmount:0},{_id:{$oid:"5bfed8f5fb6fc006ff27381f"},name:"Other3",percent:5,stringAmount:"$0",numberAmount:0}],isDownloading:!1}):w.a.get("https://api.mlab.com/api/1/databases/heroku_0lwkfbwj/collections/bills?apiKey=aVVSLiUK4fYFdptcpCwQR2sO9QXtZKXs").then(function(t){return e.setState({data:t.data,isDownloading:!1})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement("div",null,l.a.createElement(b.a,{id:"outlined-name",label:"Dollar Amount",value:this.state.name,onChange:this.handleChange(),margin:"normal",variant:"outlined",color:"secondary",style:{width:"230px",display:"inline-block"}}),l.a.createElement(g.a,{variant:"contained",color:"primary",style:{marginTop:"19px",height:"50px",width:"55px",marginLeft:"0px",minWidth:"55px"},onClick:this.clearAmount},l.a.createElement(v.a,null))),l.a.createElement("div",{style:{marginTop:"25px"}},this.state.isDownloading?l.a.createElement(D.a,{style:{width:"70px",height:"70px",marginLeft:"90px"}}):this.state.data.map(function(t){return l.a.createElement(k,{key:t.name,type:t.name,percent:t.percent,amount:t.stringAmount,setPercentages:e.setPercentages,pkey:t.name})})),l.a.createElement("div",{style:{color:"red",marginTop:"20px",minHeight:"30px",visibility:this.state.errorMsg?"visible":"hidden"}},this.state.errorMsg),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(A.a,{control:l.a.createElement(x.a,{checked:this.state.boxChecked,onChange:function(t){return e.setState({boxChecked:t.target.checked})},color:"primary"}),label:"I'm Ready to Save"}),l.a.createElement(g.a,{variant:"contained",color:"primary",disabled:!this.state.boxChecked,onClick:this.saveToHistory,style:{marginLeft:"55px"}},"Save")))}},{key:"saveToHistory",value:function(){var e=new Date,t=e.toISOString().split("T"),a={total:Number(this.state.name),epoch:e.getTime(),date:t[0],time:t[1].split(".")[0],data:Object(p.a)(this.state.data)};w.a.post("https://api.mlab.com/api/1/databases/heroku_0lwkfbwj/collections/bills_history?apiKey=aVVSLiUK4fYFdptcpCwQR2sO9QXtZKXs",a).then(function(e){return console.log(e)}),this.setState({boxChecked:!1})}},{key:"formatDollar",value:function(e){return"$"+(String(e).split(".")[1]?e.toFixed(2):e)}}]),t}(n.Component),P=function(e){function t(e){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{padding:"20px"}},"Under Development")}}]),t}(n.Component),$=a(70),V=a.n($),B=a(72),K=a.n(B),F=a(35),H=a.n(F),L=a(71),R=a.n(L),Q=a(56),X=a.n(Q),M=a(27),W=a.n(M),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e)))._getChart=a._getChart.bind(Object(d.a)(Object(d.a)(a))),a.onClick=a.onClick.bind(Object(d.a)(Object(d.a)(a))),a._getTable=a._getTable.bind(Object(d.a)(Object(d.a)(a))),a.onStartChange=a.onStartChange.bind(Object(d.a)(Object(d.a)(a))),a.onEndChange=a.onEndChange.bind(Object(d.a)(Object(d.a)(a))),a.state={showTable:!1,start:"11-29-2018",end:"12-01-2018",tableData:[]},a.data=[{_id:{$oid:"5bfdedebfb6fc006ff268fb2"},name:"Office",percent:25,stringAmount:"$2.50",numberAmount:2.5},{_id:{$oid:"5bfdee65fb6fc006ff268fe6"},name:"House",percent:40,stringAmount:"$4",numberAmount:4},{_id:{$oid:"5bfdee7ffb6fc006ff268ff9"},name:"Other1",percent:20,stringAmount:"$2",numberAmount:2},{_id:{$oid:"5bfdee90fb6fc006ff269001"},name:"Other2",percent:10,stringAmount:"$1",numberAmount:1},{_id:{$oid:"5bfed8f5fb6fc006ff27381f"},name:"Other3",percent:5,stringAmount:"$0.50",numberAmount:.5}],a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{padding:"20px"}},l.a.createElement(b.a,{id:"date",label:"Start Date",type:"date",defaultValue:"2018-11-30",onChange:this.onStartChange}),l.a.createElement(b.a,{id:"date",label:"End Date",type:"date",defaultValue:"2018-12-01",style:{marginLeft:"50px"},onChange:this.onEndChange}),l.a.createElement(g.a,{variant:"outlined",color:"primary",style:{marginTop:"5px",marginLeft:"50px"},onClick:this.onClick},"Get Data"),l.a.createElement("div",{style:{marginTop:"100px"}},this.state.showTable?this._getTable():null,l.a.createElement("div",{id:"chart_div",style:{width:"500px",height:"350px",display:"inline-block",verticalAlign:"middle"}})))}},{key:"onStartChange",value:function(e){var t=e.target.value.split("-");this.setState({start:"".concat(t[1],"-").concat(t[2],"-").concat(t[0])})}},{key:"onEndChange",value:function(e){var t=this,a=e.target.value.split("-");this.setState({end:"".concat(a[1],"-").concat(a[2],"-").concat(a[0])},function(){console.log(t.state)})}},{key:"onClick",value:function(){var e=this,t=new Date(this.state.start).getTime(),a=new Date(this.state.end).getTime(),n="https://api.mlab.com/api/1/databases/heroku_0lwkfbwj/collections/bills_history?q={epoch:{$lt:".concat(a,",$gt:").concat(t,"}}&apiKey=aVVSLiUK4fYFdptcpCwQR2sO9QXtZKXs");w.a.get(n).then(function(t){var a={},n=!0,l=!1,i=void 0;try{for(var r,o=t.data[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var c=r.value,s=!0,u=!1,m=void 0;try{for(var d,p=c.data[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var h=d.value;a[h.name]?a[h.name]+=h.numberAmount:a[h.name]=h.numberAmount}}catch(g){u=!0,m=g}finally{try{s||null==p.return||p.return()}finally{if(u)throw m}}}}catch(g){l=!0,i=g}finally{try{n||null==o.return||o.return()}finally{if(l)throw i}}var b=[];for(var f in a)b.push({name:f,value:a[f]});e.setState({tableData:b,showTable:!0})})}},{key:"_getTable",value:function(){return l.a.createElement(W.a,{style:{width:"300px",display:"inline-block",verticalAlign:"middle",marginRight:"50px"}},l.a.createElement(V.a,null,l.a.createElement(R.a,null,l.a.createElement(X.a,null,l.a.createElement(H.a,null,"Name"),l.a.createElement(H.a,{numeric:!0},"Amount Spent"))),l.a.createElement(K.a,null,this.state.tableData.map(function(e){return l.a.createElement(X.a,{key:e.name},l.a.createElement(H.a,{component:"th",scope:"row"},e.name),l.a.createElement(H.a,{numeric:!0},e.value))}))))}},{key:"_getChart",value:function(){(t=new window.google.visualization.DataTable).addColumn("string","Bills");var e=this.data.map(function(e){return[e.name,e.numberAmount,function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}()]}),t=window.google.visualization.arrayToDataTable([["Name","Dollars",{role:"style"}]].concat(Object(p.a)(e))),a=new window.google.visualization.DataView(t);a.setColumns([0,1,{calc:"stringify",sourceColumn:1,type:"string",role:"annotation"},2]);new window.google.visualization.ColumnChart(document.getElementById("chart_div")).draw(a,{backgroundColor:"transparent",legend:{position:"none"},bar:{groupWidth:"75%"}})}}]),t}(n.Component),U=a(152),Y=a.n(U),Z=a(34),z=a.n(Z),N=a(55),J=a.n(N),q=a(153),G=a.n(q),ee=a(44),te=a.n(ee),ae=a(36),ne=a.n(ae),le=a(37),ie=a.n(le),re=a(38),oe=a.n(re),ce=a(77),se=a.n(ce),ue=a(148),me=a.n(ue),de=a(147),pe=a.n(de),he=a(150),be=a.n(he),fe=a(149),ge=a(155),ye=a.n(ge),ve=a(73),Ee=a.n(ve),Oe=a(76),ke=a.n(Oe),je=a(75),we=a.n(je),Ce=a(74),xe=a.n(Ce),Se=a(154),Ae=a.n(Se),Te=a(151),De=a.n(Te),_e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).toggleDrawer=function(e){return function(){a.setState({isOpen:e})}},a.state={isOpen:!1,modalOpen:!1,modalText:""},a.toggleDrawer=a.toggleDrawer.bind(Object(d.a)(Object(d.a)(a))),a.addEmail=a.addEmail.bind(Object(d.a)(Object(d.a)(a))),a.copyEmails=a.copyEmails.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=l.a.createElement("div",null,l.a.createElement(te.a,null,l.a.createElement(ne.a,{button:!0,key:"Bills",onClick:function(){e.props.setPage("Payments")}},l.a.createElement(ie.a,null,l.a.createElement(pe.a,null)),l.a.createElement(oe.a,{primary:"Bills"})),l.a.createElement(ne.a,{button:!0,key:"Sales",onClick:function(){e.props.setPage("Sales")}},l.a.createElement(ie.a,null,l.a.createElement(me.a,null)),l.a.createElement(oe.a,{primary:"Sales"}))),l.a.createElement(fe.a,null),l.a.createElement(te.a,null,l.a.createElement(ne.a,{button:!0,key:"BillsHistory",onClick:function(){e.props.setPage("BillsHistory")}},l.a.createElement(ie.a,null,l.a.createElement(be.a,null)),l.a.createElement(oe.a,{primary:"Bills History"})),l.a.createElement(ne.a,{button:!0,key:"CSV",onClick:function(){e.props.setPage("CSV")}},l.a.createElement(ie.a,null,l.a.createElement(De.a,null)),l.a.createElement(oe.a,{primary:"CSV"}))));return l.a.createElement(Y.a,{position:"static",style:{display:"inline-block",padding:"8px"}},l.a.createElement("div",{style:{paddingLeft:"0px",paddingRight:"20px",display:"inline-block"}},l.a.createElement(J.a,{color:"inherit","aria-label":"Menu",onClick:this.toggleDrawer(!0)},l.a.createElement(G.a,null))),l.a.createElement(z.a,{variant:"h6",color:"inherit",style:{display:"inline-block",verticalAlign:"middle"}},"Prime Finds"),l.a.createElement("div",{style:{float:"right",paddingTop:"10px",paddingRight:"10px",cursor:"pointer"}},l.a.createElement(Ae.a,{onClick:this.copyEmails,style:{marginRight:"25px"}}),l.a.createElement(ye.a,{onClick:function(){return e.setState({modalOpen:!0})}})),l.a.createElement(Ee.a,{open:this.state.modalOpen},l.a.createElement(xe.a,{id:"form-dialog-title"},"Add Email"),l.a.createElement(we.a,{style:{width:"300px"}},l.a.createElement(b.a,{autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,value:this.state.modalText,onChange:function(t){return e.setState({modalText:t.target.value})}})),l.a.createElement(ke.a,null,l.a.createElement(g.a,{onClick:function(){return e.setState({modalOpen:!1,modalText:""})},color:"primary"},"Cancel"),l.a.createElement(g.a,{onClick:this.addEmail,color:"primary"},"Save"))),l.a.createElement(se.a,{open:this.state.isOpen,onClose:this.toggleDrawer(!1)},l.a.createElement("div",{tabIndex:0,role:"button",style:{width:"250px"},onClick:this.toggleDrawer(!1),onKeyDown:this.toggleDrawer(!1)},t)))}},{key:"copyEmails",value:function(){w.a.get("https://api.mlab.com/api/1/databases/heroku_0lwkfbwj/collections/email?apiKey=aVVSLiUK4fYFdptcpCwQR2sO9QXtZKXs").then(function(e){var t=e.data.reduce(function(e,t){return e+t.address+","},"");t=t.substring(0,t.length-1),console.log(t)})}},{key:"addEmail",value:function(){console.log(this.state.modalText);w.a.post("https://api.mlab.com/api/1/databases/heroku_0lwkfbwj/collections/email?apiKey=aVVSLiUK4fYFdptcpCwQR2sO9QXtZKXs",{address:this.state.modalText}).then(function(e){return console.log(e)}),this.setState({modalOpen:!1,modalText:""})}}]),t}(n.Component),Pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("form",{style:{margin:"20px 0 0 20px"},encType:"multipart/form-data",method:"post",action:"/manifests"},l.a.createElement("label",{htmlFor:"avatar"},"Select Manifest"),l.a.createElement("input",{style:{marginLeft:"15px"},type:"file",id:"avatar",name:"avatar",accept:".csv, .xlsx",onChange:function(e){return console.log(e.target.files)}}),l.a.createElement("div",{style:{marginTop:"10px"}},l.a.createElement("input",{type:"submit",value:"Submit",id:"submit"})))}}]),t}(n.Component),$e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={page:"Payments"},a.setPage=a.setPage.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e;switch(this.state.page){case"Payments":e=l.a.createElement(_,null);break;case"Sales":e=l.a.createElement(P,null);break;case"BillsHistory":e=l.a.createElement(I,null);break;case"CSV":e=l.a.createElement(Pe,null);break;default:e=l.a.createElement("div",null,"Error in switch statement")}return l.a.createElement("div",{style:{backgroundColor:"#d7dae2",minHeight:"100vh"}},l.a.createElement(_e,{setPage:this.setPage}),e)}},{key:"setPage",value:function(e){this.setState({page:e})}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement($e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[215,2,1]]]);
//# sourceMappingURL=main.6c2d9f33.chunk.js.map